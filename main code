import pygame

pygame.init()

screen = pygame.display.set_mode((800,800))
pygame.display.set_caption('The One Who Hides!')
image = pygame.image.load('warrior.png')
clock = pygame.time.Clock()

xpos = 400
ypos = 400
counter=0
counter1=0
counter2=0
counter3=0
counter4=0
direction = 0 #0 is left, 1 is right, 2 is up, 3 is down
player=0

class entity:
    def __init__(self,xpos,ypos,counter,counter1,counter2,counter3,counter4,direction):#;-;
        self.xpos = 400
        self.ypos = 400
        self.counter=0
        self.counter1=0
        self.counter2=0
        self.counter3=0
        self.counter4=0
        self.direction = 0 #0 is left, 1 is right, 2 is up, 3 is down

class player(entity):
    def draw():
        events = pygame.event.get()
        for event in events:
            if event.type == pygame.QUIT: #close game window
                break
        if keys[pygame.K_RIGHT]: 
            xpos+=2
            counter1+=1
            if counter1>5:
                counter1=0
                counter+=1
                if counter>2: #i have 8 images in my row (first is 0)
                    counter = 0
        if keys[pygame.K_LEFT]:
            xpos-=2
            counter1+=1
            if counter1>5:
                counter1=0
                counter+=1
                if counter>2: #i have 8 images in my row (first is 0)
                    counter = 0
        if keys[pygame.K_RIGHT]:
            xpos+=2  
            counter1+=1
            if counter1>5:
                counter1=0
                counter2+=1
                if counter2>2: #i have 8 images in my row (first is 0)
                    counter2 = 0
        if keys[pygame.K_DOWN]:
            ypos+=2
            counter1+=1
            if counter1>5:
                counter1=0
                counter3+=1
                if counter3>2: #i have 8 images in my row (first is 0)
                    counter3 = 0
        if keys[pygame.K_UP]:
            ypos-=2  
            counter1+=1
            if counter1>5:
                counter1=0
                counter4+=1
                if counter4>2: #i have 8 images in my row (first is 0)
                    counter4 = 0

class enemy(entity):
    pass

while True: #GAME LOOP
    clock.tick(60)
#input/output section
      
    player.draw()
    
#render section
    screen.fill((255, 255, 255))
    if direction == 0:
        screen.blit(image, (xpos,ypos), (0+counter*64,128,64,64)) #each of my images are 32 wide, 48 tall
    if direction == 1:
        screen.blit(image, (xpos,ypos), (0+counter2*64,192,64,64)) #each of my images are 32 wide, 48 tall
    if direction == 2:
        screen.blit(image, (xpos,ypos), (0+counter3*64,0,64,64)) #each of my images are 32 wide, 48 tall
    if direction == 3:
        screen.blit(image, (xpos,ypos), (0+counter4*64,64,64,64)) #each of my images are 32 wide, 48 tall
    pygame.display.flip() 
#controller stuff
controller = pygame.joystick.Joystick(0) #grab a controller from the operating system, hold in this variable
controller.init() #sets
#up controller
keys = [False, False, False, False] #python array to hold key values (they all start not pressed)


while not done: #holy cow, it's the game loop!
    clock.tick(60) #FPS
    
    for event in pygame.event.get():#look for ANY events (keyboard, mouse, controller)
        
        if event.type == pygame.QUIT: #check if closing "x" has been pressed
            done = True #hasta la vista, game loop
        
        if event.type == pygame.JOYHATMOTION: #check for controller input
            hat = controller.get_hat(0) #the hat is the flat cross-shaped button (as opposed to stick or button)
            
            #LEFT
            if hat[0] < 0:
                keys[0]=True
            else:
                keys[0] = False
           
            #UP
            if hat[1] > 0:
                keys[1] = True
            else:
                keys[1] = False
            
            
            if hat[0] > 0:
                keys[2]=True
            else:
                keys[2] = False
           
            #UP
            if hat[1] < 0:
                keys[3] = True
            else:
                keys[3] = False
                     
     #physics section
    if keys[0]:
        xpos-=5

    if keys [1]:
        ypos-=5
        
    if keys[2]:
        xpos+=5

    if keys [3]:
        ypos+=5
               
    #ZEE RENDER SECTION
    screen.fill((0,0,0)) #refresh the screen
    pygame.draw.rect(screen, (255, 255, 255), (xpos, ypos, 10, 10)) #draw your player
    pygame.display.flip() #draw all the stuff from memory to screen

       
pygame.quit() #buh bye
